<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    template="layout/template.xhtml">

<ui:define name="body">

    <h:form id="auctionForm">

        <rich:panel>
            <f:facet name="header">auction</f:facet>

				<s:validateAll>
					<div class="section">
					<h:outputLabel for="title">Enter a short description of the item you wish to sell</h:outputLabel>
					<h:inputText id="title" required="true" value="#{auctionHome.instance.title}" />
					<div class="validationError"><h:message for="title" /></div>
					</div>


					<div class="section">
					<h:selectOneMenu id="categorySel" value="#{auctionHome.instance.category}">
					<s:selectItems value="#{categories}" var="cat" label="#{cat.name}" noSelectionLabel="All Categories"/>
					<s:convertEntity />
					</h:selectOneMenu>
					</div>
					
				
					<div class="section">
					<h:outputLabel for="price">Please enter the starting price for your auction (EUR)</h:outputLabel>
					<h:inputText id="price" value="#{auctionHome.instance.startingPrice}" required="true">
						<f:convertNumber minFractionDigits="2" maxFractionDigits="2" minIntegerDigits="1" />
					</h:inputText>
					<div class="validationError"><h:message for="price" /></div>
					</div>
					


					<div class="section">
					<h:outputLabel for="description">Please enter a description for the item you are trying to sell.</h:outputLabel>
					<h:inputTextarea id="description" value="#{auctionHome.instance.description}" styleClass="description" />
					<div class="validationError"><h:message for="description" /></div>
					</div>
				</s:validateAll>

            <div style="clear:both"/>

        </rich:panel>

        <div class="actionButtons">
            <h:commandButton id="save"
                          value="Save"
                         action="#{auctionHome.persist}"
                       rendered="#{!auctionHome.managed}"/>
            <h:commandButton id="update"
                          value="Save"
                         action="#{auctionHome.update}"
                       rendered="#{auctionHome.managed}"/>
            <h:commandButton id="delete"
                          value="Delete"
                         action="#{auctionHome.remove}"
                      immediate="true"
                       rendered="#{auctionHome.managed}"/>
            <s:button propagation="end"
                               id="cancel"
                            value="Cancel"
                             view="/auctionList.xhtml"/>
        </div>

    </h:form>

</ui:define>

</ui:composition>
