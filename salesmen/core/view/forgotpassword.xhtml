<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:s="http://jboss.com/products/seam/taglib"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:rich="http://richfaces.org/rich"
        xmlns:a="http://richfaces.org/a4j"
        template="layout/template.xhtml">

    <ui:define name="body">

        <h:form id="forgotpassword">
		
			<rich:panel>
			<f:facet name="header"><b>#{messages['salesmen.ForgotPassword.Info']}</b></f:facet>
			<h:outputLabel for="username"><b>#{messages['salesmen.ForgotPassword.EnterUserName']}</b></h:outputLabel>
                <a:region id="usernameRegion">
                    <h:inputText id="username" value="#{forgotPassword.username}" required="true">
                        <a:support event="onblur"
                                   action="#{forgotPassword.verifyUsername()}"
                                   reRender="usernameMessage"
                                   ajaxSingle="true"
                                   limitToList="true" />
                    </h:inputText>
                </a:region>
                <a:outputPanel for="username" id="usernameMessage">
                    <a:status for="usernameRegion">
                        <f:facet name="start">
                            <h:graphicImage value="/img/ajax-loader.gif"/>
                        </f:facet>
                    </a:status>
                    <rich:message for="username" >
                        <f:facet name="errorMarker">
                            <h:graphicImage url="/img/msgerror.png"/>
                        </f:facet>
                        <f:facet name="infoMarker">
                            <h:graphicImage url="/img/true.png"/>
                        </f:facet>
                    </rich:message>
                </a:outputPanel>
			</rich:panel>				
			

            <div class="actionButtons">
                <h:commandButton id="submit" value="#{messages['salesmen.ForgotPassword.SendButton']}"
                                 action="#{forgotPassword.checkUsername}"/>
            </div>

        </h:form>
    </ui:define>
</ui:composition>
